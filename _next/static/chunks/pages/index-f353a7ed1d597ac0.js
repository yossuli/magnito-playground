(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8975)}])},8975:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a=n(5893),s=n(7294),c=n(3935);let o=e=>{let{children:t}=e,[n,a]=(0,s.useState)();return(0,s.useEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),a(e),()=>{document.body.removeChild(e)}},[]),n?c.createPortal(t,n):null};var i=n(9881),d=n.n(i);let l=e=>e.visible?(0,a.jsx)(o,{children:(0,a.jsx)("div",{className:d().container,children:(0,a.jsx)("div",{className:d().loader})})}):null;var r=n(1267),h=n.n(r);let _=()=>(0,a.jsx)("div",{className:h().container,children:(0,a.jsx)("div",{className:h().main,children:(0,a.jsx)("img",{src:"/magnito-playground/frourio.svg",height:36,alt:"frourio logo"})})});var u=n(9239),x=n(5121);let p=(e=>{let{baseURL:t,fetch:n}=e,a=(void 0===t?"":t).replace(/\/$/,""),s="/health",c="/tasks",o="POST",i="DELETE",d="PATCH";return{health:{get:e=>n(a,s,"GET",e).json(),$get:e=>n(a,s,"GET",e).json().then(e=>e.body),$path:()=>"".concat(a).concat(s)},tasks:{_taskId:e=>{let t="".concat(c,"/").concat(e);return{patch:e=>n(a,t,d,e).json(),$patch:e=>n(a,t,d,e).json().then(e=>e.body),delete:e=>n(a,t,i,e).json(),$delete:e=>n(a,t,i,e).json().then(e=>e.body),$path:()=>"".concat(a).concat(t)}},get:e=>n(a,c,"GET",e).json(),$get:e=>n(a,c,"GET",e).json().then(e=>e.body),post:e=>n(a,c,o,e).json(),$post:e=>n(a,c,o,e).json().then(e=>e.body),patch:e=>n(a,c,d,e).json(),$patch:e=>n(a,c,d,e).json().then(e=>e.body),delete:e=>n(a,c,i,e).json(),$delete:e=>n(a,c,i,e).json().then(e=>e.body),$path:()=>"".concat(a).concat(c)},get:e=>n(a,"","GET",e).text(),$get:e=>n(a,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(a)}})((0,u.Z)(x.Z.create({withCredentials:!0}))),j=()=>null;var m=n(4567),b=n.n(m),v=()=>{let[e,t]=(0,s.useState)(),[n,c]=(0,s.useState)(""),o=async()=>{let e=await p.tasks.$get().catch(j);null!==e&&t(e)},i=async e=>{e.preventDefault(),await p.tasks.post({body:{label:n}}).catch(j),c(""),await o()},d=async e=>{await p.tasks._taskId(e.id).patch({body:{done:!e.done}}).catch(j),await o()},r=async e=>{await p.tasks._taskId(e.id).delete().catch(j),await o()};return((0,s.useEffect)(()=>{o()},[]),e)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_,{}),(0,a.jsxs)("div",{className:b().container,children:[(0,a.jsx)("div",{className:b().title,children:"Welcome to frourio!"}),(0,a.jsxs)("div",{className:b().main,children:[(0,a.jsx)("div",{className:b().card,children:(0,a.jsx)("form",{onSubmit:i,children:(0,a.jsxs)("div",{className:b().controls,children:[(0,a.jsx)("input",{value:n,className:b().textInput,type:"text",placeholder:"Todo task",onChange:e=>{c(e.target.value)}}),(0,a.jsx)("input",{className:b().btn,disabled:""===n,type:"submit",value:"ADD"})]})})}),e.map(e=>(0,a.jsx)("div",{className:b().card,children:(0,a.jsxs)("div",{className:b().controls,children:[(0,a.jsx)("input",{type:"checkbox",checked:e.done,onChange:()=>d(e)}),(0,a.jsx)("span",{children:e.label}),(0,a.jsx)("input",{type:"button",value:"DELETE",className:b().btn,onClick:()=>r(e)})]})},e.id))]})]})]}):(0,a.jsx)(l,{visible:!0})}},9881:function(e){e.exports={container:"Loading_container__uSwIh",loader:"Loading_loader___rUK_",load:"Loading_load__e3QdG"}},1267:function(e){e.exports={container:"BasicHeader_container__R6xeT",main:"BasicHeader_main__geKyG"}},4567:function(e){e.exports={container:"index_container__Wxv5N",main:"index_main__a4FrX",card:"index_card__e904y",title:"index_title__Hhl0T",gradient:"index_gradient__XVJbl",controls:"index_controls__Sbhyt",textInput:"index_textInput__HsrSz",btn:"index_btn__0EiSx"}}},function(e){e.O(0,[239,888,774,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);